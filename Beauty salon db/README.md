# Оглавление

1. [Предметная область: Салон красоты](#1-предметная-область-салон-красоты)
2. [Развертывание в Docker](#2-развертывание-в-docker)
3. [Пример подключения через DBeaver](#3-пример-подключения-через-dbeaver)

---

## 1. Предметная область: Салон красоты

## Общее описание

Система предназначена для управления работой салона красоты. Она позволяет автоматизировать процессы учета клиентов, сотрудников, услуг, записей на прием и оплат.

## Основные сущности

### 1. Клиенты (Clients)

- **Идентификатор**: `ClientID` (SERIAL, первичный ключ)
- **Атрибуты**:
  - Имя и фамилия (NOT NULL)
  - Контактные данные: телефон (NOT NULL, уникальный), email (UNIQUE)
  - Дата рождения (CHECK > 18 лет)
  - Дата регистрации (DEFAULT CURRENT_TIMESTAMP)

### 2. Сотрудники (Employees)

- **Идентификатор**: `EmployeeID` (SERIAL, первичный ключ)
- **Атрибуты**:
  - Имя и фамилия (NOT NULL)
  - Контактные данные: телефон (NOT NULL), email (UNIQUE)
  - Должность (PositionID, внешний ключ)
  - Дата найма (NOT NULL, CHECK <= текущая дата)

### 3. Должности (Positions)

- **Идентификатор**: `PositionID` (SERIAL, первичный ключ)
- **Атрибуты**:
  - Название должности (UNIQUE, NOT NULL)
  - Описание обязанностей

### 4. Услуги (Services)

- **Идентификатор**: `ServiceID` (SERIAL, первичный ключ)
- **Атрибуты**:
  - Название услуги (UNIQUE, NOT NULL)
  - Описание
  - Цена (CHECK > 0)
  - Продолжительность (минуты, CHECK > 0)

### 5. Записи (Appointments)

- **Идентификатор**: `AppointmentID` (SERIAL, первичный ключ)
- **Атрибуты**:
  - Ссылки на ClientID, EmployeeID, ServiceID (внешние ключи)
  - Дата и время записи (NOT NULL)
  - Статус (CHECK: Запланирована/Завершена/Отменена)

### 6. Оплаты (Payments)

- **Идентификатор**: `PaymentID` (SERIAL, первичный ключ)
- **Атрибуты**:
  - Ссылка на AppointmentID (UNIQUE)
  - Сумма (CHECK > 0)
  - Дата оплаты (DEFAULT CURRENT_TIMESTAMP)
  - Способ оплаты (CHECK: Наличные/Карта)

## 2. Развертывание в Docker

- Запуск контейнера:
  `docker-compose up --build`
- Остановка контейнера:
  `docker-compose down`
- Полное удаление с данными:
  `docker-compose down -v`

Volume postgres_data сохраняет данные вне контейнера.

Скрипт Init.sql создает таблицы базы данных.

Скрипт generate_data заполняет таблицы рандомными данными.

## 3. Пример подключения через DBeaver

Создайте новое подключение:

- Выберите PostgreSQL
- Новое подкючение с настройками по умолчанию из docker-compose.yml:
  - Host: localhost
  - Port: 5432
  - Database: beauty_salon
  - Username: user
  - Password: password
